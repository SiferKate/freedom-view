import{j as e,r as n}from"./index-6a72a591.js";import{u as l}from"./use-app-params-92a9fe39.js";import{s as m,a as g,b as x,c as h,H as p}from"./index-20740df3.js";import{B as c,L as j,P as f}from"./page-6af04b3b.js";import{D as U}from"./dialog-list-4fe6868a.js";import{S,U as v,M as y}from"./message-list-bede7733.js";import"./chunk-MZBQPWGD-a3dd585e.js";import"./chunk-O7JH6DZT-d044f86c.js";const P=({userId:s,loading:t})=>{const r=m.useCheckIsUserSaved(s),[a]=g(),i=()=>a(s);return e.jsx(c,{onClick:i,isLoading:t,isDisabled:r,children:r?"Saved":"Save"})},k=({onGalleryClick:s,photosCount:t=0})=>{const{userId:r}=l(),{data:a,isLoading:i}=x(r);return e.jsx(S,{children:e.jsxs(v,{user:a,loading:i,children:[e.jsx(P,{userId:a==null?void 0:a.id}),e.jsxs(c,{colorScheme:"blue",variant:"outline",onClick:s,children:["Gallery ",t>0&&`(${t})`]})]})})},C=({onGalleryLoaded:s})=>{const{userId:t}=l(),{data:r,isFetching:a,isError:i}=h({userId:t});return n.useEffect(()=>{r&&(s==null||s(r.length))},[r,s]),a?e.jsx(j,{}):i?e.jsx(p,{size:"md",textAlign:"center",mt:"3",children:"Failed to load data.."}):e.jsx(y,{galleryPhotos:r,galleryOpen:!0})},L=()=>{const{userId:s}=l(),[t,r]=n.useState(!1),[a,i]=n.useState(0),d=()=>r(!t),u=o=>i(o);return e.jsxs(f,{header:e.jsx(k,{onGalleryClick:d,photosCount:a}),children:[!t&&e.jsx(U,{dialogNavigateTo:({human:o})=>`/user/${s}/dialog/${o.id}`}),t&&e.jsx(C,{onGalleryLoaded:u})]})};export{L as default};
