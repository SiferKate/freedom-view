import{j as s,r as l}from"./index-bcf0be10.js";import{a as d,b as m,c as j,L as c,H as p,s as f,d as U,B as u}from"./index-b13a098d.js";import{P as S}from"./page-8b285ef9.js";import{D as v}from"./dialog-list-00983129.js";import{S as P,U as y,M as C}from"./message-list-907f76a8.js";import"./chunk-MZBQPWGD-dd066727.js";const k=({children:e})=>{const{userId:r}=d(),{data:a,isLoading:t}=m(r);return s.jsx(P,{children:s.jsx(y,{user:a,loading:t,children:e})})},G=({onGalleryLoaded:e,isPending:r=!1})=>{const{userId:a}=d(),{data:t,isFetching:i,isError:n}=j({userId:a});return l.useEffect(()=>{t&&(e==null||e(t.length))},[t,e]),i||r?s.jsx(c,{}):n?s.jsx(p,{size:"md",textAlign:"center",mt:"3",children:"Failed to load data.."}):s.jsx(C,{galleryPhotos:t,galleryOpen:!0})},H=({userId:e,loading:r})=>{const a=f.useCheckIsUserSaved(e),[t]=U(),i=()=>t(e);return s.jsx(u,{onClick:i,isLoading:r,isDisabled:a,children:a?"Saved":"Save"})},F=()=>{const{userId:e}=d(),[r,a]=l.useState(!1),[t,i]=l.useState(0),[n,g]=l.useTransition(),x=()=>{g(()=>{a(o=>!o)})},h=o=>i(o);return s.jsxs(S,{header:s.jsxs(k,{children:[s.jsx(H,{userId:Number(e)}),s.jsxs(u,{colorScheme:"blue",variant:n?r?"outline":"solid":r?"solid":"outline",onClick:x,children:["Gallery ",t>0&&`(${t})`]})]}),children:[n&&s.jsx(c,{}),!n&&s.jsxs(s.Fragment,{children:[!r&&s.jsx(v,{dialogNavigateTo:({human:o})=>`dialog/${o.id}`}),r&&s.jsx(G,{onGalleryLoaded:h})]})]})};export{F as default};
