import{j as s}from"./index-bcf0be10.js";import{e as p,v as r,f as l,S as c,a as u,g as m,L as x,h}from"./index-b13a098d.js";import{U as f,T as g}from"./page-8b285ef9.js";import{S as j}from"./chunk-MZBQPWGD-dd066727.js";const w=({dialog:e})=>{var t;const i=p(),a=r.useCheckIsDialogViewed(e.id,e.updated),o=()=>i(r.updateViewedDialog({dialogId:e.id,updated:e.updated}));return s.jsx(l,{py:"4",children:s.jsxs(c,{direction:["column","row"],justifyContent:"space-between",alignItems:"center",gap:["0","10"],opacity:a?.5:void 0,onClick:o,children:[s.jsx(f,{user:e.human}),s.jsx(g,{w:["100%","60%"],pt:"2",fontSize:"sm",textAlign:["center","right"],whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",dangerouslySetInnerHTML:{__html:((t=e.dialog)==null?void 0:t.message)??"No messages"}})]})})},I=({dialogNavigateTo:e,refetchOnMountOrArgChange:i,limit:a})=>{const{userId:o}=u(),{data:t,isFetching:d}=m({userId:o,limit:a},{refetchOnMountOrArgChange:i});return d?s.jsx(x,{}):s.jsx(c,{divider:s.jsx(j,{}),spacing:"0",children:t==null?void 0:t.map(n=>s.jsx(h,{to:e instanceof Function?e(n):e,children:s.jsx(w,{dialog:n})},n.id))})};export{I as D};
