import{j as s}from"./index-354c2a3c.js";import{d as p,v as n,S as c,e as l,L as u}from"./index-871af331.js";import{B as m,U as x,T as h,L as f}from"./page-252de3bb.js";import{u as j}from"./use-app-params-ac5a865e.js";import{S as g}from"./chunk-MZBQPWGD-8acc10ce.js";const w=({dialog:e})=>{var t;const i=p(),o=n.useCheckIsDialogViewed(e.id,e.updated),a=()=>i(n.updateViewedDialog({dialogId:e.id,updated:e.updated}));return s.jsx(m,{py:"4",children:s.jsxs(c,{direction:["column","row"],justifyContent:"space-between",alignItems:"center",gap:["0","10"],opacity:o?.5:void 0,onClick:a,children:[s.jsx(x,{user:e.human}),s.jsx(h,{w:["100%","60%"],pt:"2",fontSize:"sm",textAlign:["center","right"],whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",dangerouslySetInnerHTML:{__html:((t=e.dialog)==null?void 0:t.message)??"No messages"}})]})})},y=({dialogNavigateTo:e,refetchOnMountOrArgChange:i,limit:o})=>{const{userId:a}=j(),{data:t,isFetching:d}=l({userId:a,limit:o},{refetchOnMountOrArgChange:i});return d?s.jsx(f,{}):s.jsx(c,{divider:s.jsx(g,{}),spacing:"0",children:t==null?void 0:t.map(r=>s.jsx(u,{to:e instanceof Function?e(r):e,children:s.jsx(w,{dialog:r})},r.id))})};export{y as D};
